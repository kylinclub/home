function contact(){
  $(".js__trigger").trigger("click")
}
var theme_previewing = "", Global = function(){
  "use strict";
  function PSZ_APP_alert(a, b){
    alert(b)
  }

  var handleBootstrapComponents = function(){
    $(".carousel").carousel({
      interval: 5e3,
      pause: "hover"
    }), $(".tooltips").tooltip(), $(".tooltips-show").tooltip("show"), $(".tooltips-hide").tooltip("hide"), $(".tooltips-toggle").tooltip("toggle"), $(".tooltips-destroy").tooltip("destroy"), $(".popovers").popover(), $(".popovers-show").popover("show"), $(".popovers-hide").popover("hide"), $(".popovers-toggle").popover("toggle"), $(".popovers-destroy").popover("destroy")
  }, handleScrollToSection = function(){
    $(function(){
      $("a[href*=#js__scroll-to-]:not([href=#js__scroll-to-])").on("click", function(){
        if(location.pathname.replace(/^\//, "")==this.pathname.replace(/^\//, "")&&location.hostname==this.hostname){
          var a = $(this.hash);
          if(a = a.length ? a : $("[name="+this.hash.slice(1)+"]"), a.length)return $("html,body").animate({scrollTop: a.offset().top-90}, 1e3, function(){
            $(".js__header-overlay").hasClass("-is-open")&&$(".js__trigger").trigger("click")
          }), !1
        }
      })
    })
  }, handlePromoSection = function(){
    $(".js__fullwidth-img").each(function(){
      $(this).css("background-image", "url("+$(this).children("img").attr("src")+")"), $(this).children("img").hide()
    })
  }, handleOverlay = function(){
    var a = $(".js__bg-overlay"), b = $(".js__header-overlay"), c = $(".js__trigger");
    c.on("click", function(){
      ""!=theme_previewing ? a.hasClass("-is-open") ? (theme_previewing = "", $("html").removeClass("g-overflow--hidden")) : ($("#theme-preview").removeClass("no-display"), $("#navmenu").addClass("no-display"), $("a", "#theme-preview").attr("href", GMM_APP_PATH+"/app/#/site/build/"+theme_previewing+"/"), $("#theme-preview iframe").attr("src", GMM_APP_PATH+"/themes/preview/"+theme_previewing+"/").height($(".js__scrollbar").height()-$("a", "#theme-preview").outerHeight()-20), $("html").addClass("g-overflow--hidden")) : ($("#theme-preview").addClass("no-display"), $("#navmenu").removeClass("no-display")), a.toggleClass("-is-open"), b.toggleClass("-is-open"), c.toggleClass("-is-active")
    })
  }, handleVerticalCenterAligned = function(){
    $(".js__ver-center-aligned").each(function(){
      $(this).css("padding-top", $(this).parent().height()/2-$(this).height()/2)
    }), $(window).resize(function(){
      $(".js__ver-center-aligned").each(function(){
        $(this).css("padding-top", $(this).parent().height()/2-$(this).height()/2)
      })
    })
  }, handleEqualHeight = function(){
    $("[data-auto-height]").each(function(){
      var a = $(this), b = $("[data-height]", a), c = 0, d = a.attr("data-mode"), e = parseInt(a.attr("data-offset") ? a.attr("data-offset") : 0);
      b.each(function(){
        "height"==$(this).attr("data-height") ? $(this).css("height", "") : $(this).css("min-height", "");
        var a = "base-height"==d ? $(this).outerHeight() : $(this).outerHeight(!0);
        a>c&&(c = a)
      }), c += e, b.each(function(){
        "height"==$(this).attr("data-height") ? $(this).css("height", c) : $(this).css("min-height", c)
      }), a.attr("data-related")&&$(a.attr("data-related")).css("height", a.height())
    })
  }, handleForms = function(){
    $(document).on("submit", "#gmm-contact-form", function(a){
      a.preventDefault(), a.stopPropagation();
      var b = $('button[type="submit"]', this), c = $(b).text();
      return $.ajax({
        type: "POST",
        url: GMM_APP_PATH+"/",
        data: $("#gmm-contact-form").serialize(),
        processData: !1,
        dataType: "json",
        beforeSend: function(a){
          $(b).text(c+" ... ").prop("disabled", !0)
        },
        success: function(a){
          ""!=a.message&&alert(a.message), $(b).text(c).prop("disabled", !1)
        }
      }), !1
    }), $(document).on("submit", "#gmm-signup-form", function(e){
      e.preventDefault(), e.stopPropagation();
      var btn = $('button[type="submit"]', this), btn_text = $(btn).text();
      return $('[name="rpassword"]', "#gmm-signup-form").val($('[name="password"]', "#gmm-signup-form").val()), $.ajax({
        type: "POST",
        url: GMM_APP_PATH+"/app/account/register/",
        data: $("#gmm-signup-form").serialize(),
        processData: !1,
        dataType: "json",
        beforeSend: function(a){
          $(btn).text(btn_text+" ... ").prop("disabled", !0)
        },
        success: function(msg){
          ""!=msg.message&&eval(msg.message), "undefined"!= typeof msg.url&&(window.location = GMM_APP_PATH+"/app/"), $(btn).text(btn_text).prop("disabled", !1)
        }
      }), !1
    })
  };
  return {
    init: function(){
      handleBootstrapComponents(), handleScrollToSection(), handlePromoSection(), handleOverlay(), handleVerticalCenterAligned(), handleEqualHeight(), handleForms()
    }
  }
}();
$(document).ready(function(){
  Global.init();
  var a = new Array(
    "static/img/index_bn001.jpg",
    "static/img/index_bn002.jpg",
    "static/img/index_bn003.jpg",
    "static/img/index_bn004.jpg",
    "static/img/index_bn005.jpg",
    "static/img/index_bn006.jpg",
    "static/img/bg/restaurant.jpg",
    "static/img/bg/restaurant-interior-lighting-idea.jpg",
    "static/img/bg/restaurant-night-carousel.jpg",
    "static/img/bg/city.jpg",
    "static/img/bg/city-in-night.jpg",
    "static/img/bg/fabulous-restaurant-lights.jpg");
  var __i = 0;
  if($(".js__swiper-one-item .swiper-slide, .js__parallax-window").each(function(){
      //bg = Math.floor(Math.random()*a.length), bg = a.splice(bg, 1), $(this).css("background-image", 'url("'+GMM_APP_PATH+bg+'")')
      bg = a[__i],__i++, $(this).css("background-image", 'url("'+GMM_APP_PATH+bg+'")')
    }), $(".theme_grid").size()>0){
    if($(".theme_previewing").click(function(a){
        a.preventDefault(), a.stopPropagation(), $("#at4-scc").size()>0&&$("#at4-scc").click(), theme_previewing = $(this).parent().data("rel"), $(".js__trigger").trigger("click")
      }), window.location.href.indexOf("#/preview")>0){
      var b = window.location.href;
      lastChar = b.slice(-1), b = b.split("/"), pos = b.length-("/"==lastChar ? 2 : 1), $(".theme_"+b[pos]).click()
    }
    var c = $(".theme_grid"), d = c.clone();
    $(".theme_filter a").click(function(a){
      $(".theme_filter a").removeClass("active"), $(".theme_filter a span").addClass("no-display"), $(this).addClass("active"), $("span", this).removeClass("no-display");
      var b = $(this).data("filter");
      if("all"==b)var e = d.find("div");else var e = d.find('div[data-filter~="'+b+'"]');
      return c.quicksand(e, {duration: 300, attribute: "data-filter", easing: "easeInOutQuad"}), !1
    })
  }

  /*(function () {
    __i = 0;
    // /data/banners get_top_img.json
    $.ajax('/data/banners').then(function(v){
      if(0==v.status){
        var __j = 0, rs = v.data;
        if($(".js__swiper-one-item .swiper-slide").each(function(){
            bg = rs[__j].img, $(this).css("background-image", 'url("'+bg+'")').find('.container').html(rs[__j]&&rs[__j].url?('<a style="display: block; height: 100%" href="'+rs[__j].url+'"></a>'):''), __j++
          }), $(".theme_grid").size()>0){
          if($(".theme_previewing").click(function(a){
              a.preventDefault(), a.stopPropagation(), $("#at4-scc").size()>0&&$("#at4-scc").click(), theme_previewing = $(this).parent().data("rel"), $(".js__trigger").trigger("click")
            }), window.location.href.indexOf("#/preview")>0){
            var b = window.location.href;
            lastChar = b.slice(-1), b = b.split("/"), pos = b.length-("/"==lastChar ? 2 : 1), $(".theme_"+b[pos]).click()
          }
          var c = $(".theme_grid"), d = c.clone();
          $(".theme_filter a").click(function(a){
            $(".theme_filter a").removeClass("active"), $(".theme_filter a span").addClass("no-display"), $(this).addClass("active"), $("span", this).removeClass("no-display");
            var b = $(this).data("filter");
            if("all"==b)var e = d.find("div");else var e = d.find('div[data-filter~="'+b+'"]');
            return c.quicksand(e, {duration: 300, attribute: "data-filter", easing: "easeInOutQuad"}), !1
          })
        }
      }
    });
  })();*/

  $('.js-more').on('click', function () {
    var $this = $(this), $id = $this.attr('data-id');
    if($this.hasClass('ti-angle-up')){
      $this.addClass('ti-angle-down').removeClass('ti-angle-up'); $('#'+$id).hide();
    }
    else{
      $this.addClass('ti-angle-up').removeClass('ti-angle-down'); $('#'+$id).show();
    }

  });

  imageOver();
});

function imageOver() {
  $("img.over").each(function() {
    var image = this.src;
    var extension = image.substr(image.lastIndexOf("."), image.length-1);
    var image_over = image.replace(extension, "on"+extension);
    new Image().src = image_over;
    $(this).hover(
      function(){this.src = image_over},
      function(){this.src = image}
    );
  });
}

